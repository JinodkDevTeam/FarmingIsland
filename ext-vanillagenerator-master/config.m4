dnl config.m4 for extension vanillagenerator

PHP_ARG_ENABLE(vanillagenerator, whether to enable Minecraft world generator support,
[  --enable-vanillagenerator    Enable Minecraft world generator features])

if test "$PHP_VANILLAGENERATOR" != "no"; then
  dnl probably won't use this, but will keep just in case
  PHP_REQUIRE_CXX()

  PHP_NEW_EXTENSION(vanillagenerator, vanillagenerator.cpp lib/biomes/BiomeArray.cpp lib/biomes/BiomeClimate.cpp lib/biomes/BiomeHeightManager.cpp lib/chunk/Chunk.cpp lib/chunk/ChunkManager.cpp lib/generator/biomegrid/BiomeEdgeMapLayer.cpp lib/generator/biomegrid/BiomeMapLayer.cpp lib/generator/biomegrid/BiomeThinEdgeMapLayer.cpp lib/generator/biomegrid/BiomeVariationMapLayer.cpp lib/generator/biomegrid/DeepOceanMapLayer.cpp lib/generator/biomegrid/ErosionMapLayer.cpp lib/generator/biomegrid/MapLayer.cpp lib/generator/biomegrid/NoiseMapLayer.cpp lib/generator/biomegrid/RarePlainsMapLayer.cpp lib/generator/biomegrid/RiverMapLayer.cpp lib/generator/biomegrid/ShoreMapLayer.cpp lib/generator/biomegrid/SmoothMapLayer.cpp lib/generator/biomegrid/WhittakerMapLayer.cpp lib/generator/biomegrid/ZoomMapLayer.cpp lib/generator/ground/DirtAndStonePatchGroundGenerator.cpp lib/generator/ground/DirtPatchGroundGenerator.cpp lib/generator/ground/GravelPatchGroundGenerator.cpp lib/generator/ground/GroundGenerator.cpp lib/generator/ground/MesaGroundGenerator.cpp lib/generator/ground/StonePatchGroundGenerator.cpp lib/generator/misc/BlockValidators.cpp lib/generator/nether/decorators/FireDecorator.cpp lib/generator/nether/decorators/GlowstoneDecorator.cpp lib/generator/nether/decorators/NetherMushroomDecorator.cpp lib/generator/nether/NetherGenerator.cpp lib/generator/nether/populators/NetherBiomePopulator.cpp lib/generator/nether/populators/NetherOrePopulator.cpp lib/generator/nether/populators/NetherPopulator.cpp lib/generator/object/BlockPatch.cpp lib/generator/object/Cactus.cpp lib/generator/object/DoubleTallPlant.cpp lib/generator/object/Flower.cpp lib/generator/object/Lake.cpp lib/generator/object/OreVein.cpp lib/generator/object/SugarCane.cpp lib/generator/object/TallGrass.cpp lib/generator/object/TerrainObjects.cpp lib/generator/object/trees/defaults/AcaciaTree.cpp lib/generator/object/trees/defaults/BigOakTree.cpp lib/generator/object/trees/defaults/BigTree.cpp lib/generator/object/trees/defaults/BirchTree.cpp lib/generator/object/trees/defaults/BrownMushroomTree.cpp lib/generator/object/trees/defaults/CocoaTree.cpp lib/generator/object/trees/defaults/DarkOakTree.cpp lib/generator/object/trees/defaults/JungleBush.cpp lib/generator/object/trees/defaults/JungleTree.cpp lib/generator/object/trees/defaults/MegaJungleTree.cpp lib/generator/object/trees/defaults/MegaPineTree.cpp lib/generator/object/trees/defaults/MegaRedwoodTree.cpp lib/generator/object/trees/defaults/MegaSpruceTree.cpp lib/generator/object/trees/defaults/RedMushroomTree.cpp lib/generator/object/trees/defaults/RedwoodTree.cpp lib/generator/object/trees/defaults/SwampTree.cpp lib/generator/object/trees/defaults/TallBirchTree.cpp lib/generator/object/trees/defaults/TallRedwoodTree.cpp lib/generator/object/trees/GenericTree.cpp lib/generator/overworld/carver/CaveCarver.cpp lib/generator/overworld/decorators/CactusDecorator.cpp lib/generator/overworld/decorators/DeadBushDecorator.cpp lib/generator/overworld/decorators/Decorator.cpp lib/generator/overworld/decorators/DoublePlantDecorator.cpp lib/generator/overworld/decorators/FlowerDecorator.cpp lib/generator/overworld/decorators/LakeDecorator.cpp lib/generator/overworld/decorators/MelonDecorator.cpp lib/generator/overworld/decorators/MushroomDecorator.cpp lib/generator/overworld/decorators/PumpkinDecorator.cpp lib/generator/overworld/decorators/SugarCaneDecorator.cpp lib/generator/overworld/decorators/TallGrassDecorator.cpp lib/generator/overworld/decorators/TreeDecorator.cpp lib/generator/overworld/decorators/UnderwaterDecorator.cpp lib/generator/overworld/decorators/WaterLilyDecorator.cpp lib/generator/overworld/OverworldGenerator.cpp lib/generator/overworld/OverworldPopulators.cpp lib/generator/overworld/populators/BiomePopulator.cpp lib/generator/overworld/populators/BirchForestMountainsPopulator.cpp lib/generator/overworld/populators/BirchForestPopulator.cpp lib/generator/overworld/populators/DesertMountainsPopulator.cpp lib/generator/overworld/populators/DesertPopulator.cpp lib/generator/overworld/populators/FlowerForestPopulator.cpp lib/generator/overworld/populators/ForestPopulator.cpp lib/generator/overworld/populators/IcePlainsPopulator.cpp lib/generator/overworld/populators/IcePlainsSpikesPopulator.cpp lib/generator/overworld/populators/JungleEdgePopulator.cpp lib/generator/overworld/populators/JunglePopulator.cpp lib/generator/overworld/populators/MegaSpruceTaigaPopulator.cpp lib/generator/overworld/populators/MegaTaigaPopulator.cpp lib/generator/overworld/populators/OrePopulator.cpp lib/generator/overworld/populators/PlainsPopulator.cpp lib/generator/overworld/populators/RoofedForestPopulator.cpp lib/generator/overworld/populators/SavannaMountainsPopulator.cpp lib/generator/overworld/populators/SavannaPopulator.cpp lib/generator/overworld/populators/SunflowerPlainsPopulator.cpp lib/generator/overworld/populators/SwamplandPopulator.cpp lib/generator/overworld/populators/TaigaPopulator.cpp lib/noise/BukkitSimplexNoiseGenerator.cpp lib/noise/octaves/BukkitSimplexOctaveGenerator.cpp lib/noise/octaves/PerlinOctaveGenerator.cpp lib/noise/octaves/ScalableOctaves.cpp lib/noise/octaves/SimplexOctaveGenerator.cpp lib/noise/PerlinNoise.cpp lib/noise/SimplexNoise.cpp lib/objects/math/Facing.cpp lib/objects/math/Math.cpp lib/objects/math/Vector3.cpp lib/objects/MinecraftBlock.cpp lib/objects/random/Random.cpp lib/objects/VanillaBiomeGrid.cpp src/NetherGeneratorImpl.cpp src/OverworldGeneratorImpl.cpp, $ext_shared,, -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -std=c++17 -fno-strict-aliasing -DGSL_THROW_ON_CONTRACT_VIOLATION=1, yes)
  PHP_SUBST(VANILLAGENERATOR_SHARED_LIBADD)
  PHP_ADD_BUILD_DIR($ext_builddir/src, 1)
  PHP_ADD_BUILD_DIR($ext_builddir/lib, 1)
  PHP_ADD_INCLUDE(ext/chunkutils2/gsl/include)
  PHP_ADD_INCLUDE(ext/chunkutils2)
  PHP_ADD_INCLUDE(ext/chunkutils2/src)
  PHP_ADD_INCLUDE(ext/morton/libmorton/libmorton/include)
fi